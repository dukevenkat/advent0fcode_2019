defmodule SantaGoes do
  def route(stars) do
    total_required_fuel =
      stars
      |> Enum.reduce(0, fn x, acc ->
        acc = acc + mass_calculate(x)
        acc
      end)

    total_required_fuel
  end

  def mass_calculate(mass), do: div(mass, 3) - 2
end

IO.puts(
  SantaGoes.route([
    95065,
    129_298,
    145_573,
    95743,
    59139,
    78323,
    124_445,
    69015,
    81990,
    83254,
    139_274,
    92101,
    74245,
    104_038,
    61955,
    80642,
    110_376,
    89992,
    84392,
    117_830,
    140_144,
    80076,
    111_285,
    107_135,
    98741,
    103_753,
    141_922,
    130_503,
    60409,
    73891,
    84781,
    118_319,
    93610,
    143_228,
    99616,
    65353,
    102_388,
    123_813,
    88335,
    95459,
    133_635,
    108_771,
    101_999,
    73850,
    106_490,
    53396,
    110_330,
    140_258,
    73958,
    60273,
    101_401,
    128_995,
    61495,
    114_674,
    71955,
    107_049,
    79374,
    52359,
    107_925,
    91789,
    69174,
    133_966,
    85063,
    62856,
    96965,
    97100,
    81638,
    104_488,
    131_368,
    59015,
    149_357,
    65193,
    61489,
    126_089,
    141_224,
    100_596,
    93144,
    109_421,
    121_988,
    135_890,
    70141,
    53531,
    59900,
    98981,
    66796,
    113_700,
    109_535,
    100_721,
    87240,
    99883,
    81637,
    80064,
    143_154,
    75778,
    64835,
    59235,
    103_907,
    121_637,
    118_525,
    125_730
  ])
)
